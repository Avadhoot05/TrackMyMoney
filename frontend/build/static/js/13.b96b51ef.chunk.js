(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[13],{273:function(e,t,a){e.exports={monthHeading:"Insights_monthHeading__1gI1T",chartContainer:"Insights_chartContainer__16XMO",container:"Insights_container__3SU8X",card:"Insights_card__2rIDb",cardHeading:"Insights_cardHeading__1wnvF",chart:"Insights_chart__18pNE"}},307:function(e,t,a){"use strict";a.r(t);var n=a(112),r=a(128),o=a(14),s=a(19),c=a.n(s),u=a(2),l=a(151),i=a.n(l),b=a(273),p=a.n(b),d=a(28),g=a(175),h=a(274),D=a(1);g.d.register(g.c,g.i,g.k,g.h,g.o,g.p,g.f),t.default=function(){var e=Object(u.useContext)(d.b).state,t=Object(u.useState)([]),a=Object(o.a)(t,2),s=a[0],l=a[1],b=Object(u.useState)({}),g=Object(o.a)(b,2),m=g[0],I=g[1],j=Object(u.useState)({}),S=Object(o.a)(j,2),N=S[0],O=S[1],U=Object(u.useState)({}),R=Object(o.a)(U,2),f=R[0],v=R[1];Object(u.useEffect)((function(){console.log("loaded"),e.flg&&_(e.userid)}),[]);var x=function(e){var t=function(){for(var e=new Date((new Date).getFullYear(),(new Date).getMonth(),1),t=new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),a=[],n=2;e<=t;n++)a.push(e),e=new Date((new Date).getFullYear(),(new Date).getMonth(),n);return a}(),a=[],n=[],o=[],s=[],c=[],u=[];console.log(t);var l,b={},p={},d={},g=Object(r.a)(e);try{for(g.s();!(l=g.n()).done;){var h=l.value,D=new Date(h.date).getDate();D in b?"0"==h.expenseType?"1"==h.currency?b[D].INR+=h.amount:b[D].USD+=h.amount:"1"==h.expenseType?"1"==h.currency?p[D].INR+=h.amount:p[D].USD+=h.amount:"2"==h.expenseType&&("1"==h.currency?d[D].INR+=h.amount:d[D].USD+=h.amount):(b[D]={INR:0,USD:0},p[D]={INR:0,USD:0},d[D]={INR:0,USD:0},"0"==h.expenseType?"1"==h.currency?b[D].INR=h.amount:b[D].USD=h.amount:"1"==h.expenseType?"1"==h.currency?p[D].INR=h.amount:p[D].USD=h.amount:"2"==h.expenseType&&("1"==h.currency?d[D].INR=h.amount:d[D].USD=h.amount))}}catch(j){g.e(j)}finally{g.f()}for(var m=0;m<t.length;){var I=new Date(t[m]).getDate();I in b?(console.log(I),a.push(b[I].INR),n.push(b[I].USD),o.push(p[I].INR),s.push(p[I].USD),c.push(d[I].INR),u.push(d[I].USD)):(a.push(0),n.push(0),o.push(0),s.push(0),c.push(0),u.push(0)),t[m]=i()(t[m]).format("DD MMM, YYYY"),m++}return{xlabels:t,amountINR:a,amountUSD:n,incomeAmountINR:o,incomeAmountUSD:s,investAmountINR:c,investAmountUSD:u}},_=function(e){c.a.post("/insights",{userId:e}).then((function(e){var t=x(e.data),a=t.xlabels,n=t.amountINR,r=t.amountUSD,o=t.incomeAmountINR,s=t.incomeAmountUSD,c=t.investAmountINR,u=t.investAmountUSD;l(a),O({arrINR:n,arrUSD:r}),I({arrINR:o,arrUSD:s}),v({arrINR:c,arrUSD:u})})).catch((function(e){console.log(e)}))},y={responsive:!0,plugins:{legend:{position:"top"}}},C=Object(n.a)(Object(n.a)({},y),{},{plugins:Object(n.a)(Object(n.a)({},y.plugins),{},{title:{display:!0,text:"Income"}})}),w=Object(n.a)(Object(n.a)({},y),{},{plugins:Object(n.a)(Object(n.a)({},y.plugins),{},{title:{display:!0,text:"Spent"}})}),k=Object(n.a)(Object(n.a)({},y),{},{plugins:Object(n.a)(Object(n.a)({},y.plugins),{},{title:{display:!0,text:"Investments"}})}),A={labels:s,datasets:[{label:"USD",data:N.arrUSD,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgb(255, 99, 132)",tension:.2},{label:"INR",data:N.arrINR,borderColor:"#326B84",backgroundColor:"#326B84",tension:.2}]},M={labels:s,datasets:[{label:"USD",data:m.arrUSD,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgb(255, 99, 132)",tension:.2},{label:"INR",data:m.arrINR,borderColor:"#326B84",backgroundColor:"#326B84",tension:.2}]},T={labels:s,datasets:[{label:"USD",data:f.arrUSD,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgb(255, 99, 132)",tension:.2},{label:"INR",data:f.arrINR,borderColor:"#326B84",backgroundColor:"#326B84",tension:.2}]};return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:p.a.chartContainer,children:[Object(D.jsx)(h.a,{className:p.a.chart,options:C,data:M}),Object(D.jsx)(h.a,{className:p.a.chart,options:w,data:A}),Object(D.jsx)(h.a,{className:p.a.chart,options:k,data:T})]})})}}}]);